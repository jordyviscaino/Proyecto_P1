<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transcribir Comentarios</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; padding: 20px; }
        textarea { width: 80%; height: 150px; font-size: 16px; }
        button { padding: 10px 20px; font-size: 16px; cursor: pointer; }
    </style>
</head>
<body>

    <h2>TranscripciÃ³n de voz a texto</h2>
    <textarea id="commentBox" placeholder="Habla aquÃ­ y se transcribirÃ¡..."></textarea><br><br>
    <button id="recordButton">ðŸŽ¤ Iniciar TranscripciÃ³n</button>

    <script>
        const recordButton = document.getElementById("recordButton");
        const commentBox = document.getElementById("commentBox");

        // Verificar compatibilidad con SpeechRecognition
        window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        if (!window.SpeechRecognition) {
            alert("Tu navegador no soporta la transcripciÃ³n de voz.");
        } else {
            const recognition = new SpeechRecognition();
            recognition.lang = "es-ES"; // Configurar idioma en espaÃ±ol
            recognition.continuous = false;
            recognition.interimResults = false;

            recordButton.addEventListener("click", () => {
                recognition.start();
                recordButton.textContent = "ðŸŽ™ï¸ Escuchando...";
            });

            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript;
                commentBox.value = transcript;
                recordButton.textContent = "ðŸŽ¤ Iniciar TranscripciÃ³n";
            };

            recognition.onerror = (event) => {
                console.error("Error en reconocimiento de voz:", event.error);
                recordButton.textContent = "ðŸŽ¤ Iniciar TranscripciÃ³n";
            };
        }
    </script>

</body>
</html>
